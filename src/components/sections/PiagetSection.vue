<template>
  <section class="section piaget-section">
    <h2 class="section-title">å„¿ç«¥è®¤çŸ¥å‘å±•çš„çœŸç›¸</h2>
    <p class="section-intro">
      çš®äºšæ°ç†è®ºæ¸…æ™°è¡¨æ˜ï¼Œ7å²ä»¥ä¸‹å„¿ç«¥æ— æ³•ç†è§£æŠ½è±¡å•†ä¸šè¡Œä¸ºï¼Œ11å²ä»¥ä¸‹éš¾ä»¥çœŸæ­£è‡ªä¸»å†³ç­–ã€‚å½“å„¿ç«¥è´¦å·å±•ç¤º"æƒ³çº¢""çˆ±è¡¨æ¼”"æ—¶ï¼ŒèƒŒåå¾€å¾€æ˜¯çˆ¶æ¯å°†è‡ªèº«ä»·å€¼è§‚å«æ¥ç»™è®¤çŸ¥èƒ½åŠ›å—é™çš„å­©å­ã€‚
    </p>

    <div class="piaget-container">
      <div v-for="(stage, index) in piagetStages" :key="index" class="piaget-stage" @mouseenter="currentStage = index"
        @mouseleave="currentStage = null">
        <div class="stage-figure" :style="{ height: stage.height }">
          <img v-if="stage.image" :src="stage.image" alt="é˜¶æ®µå›¾ç‰‡" class="stage-photo" />
          <div class="figure-icon" v-else>ğŸ‘¶</div>
        </div>
        <div class="stage-info">
          <p class="stage-age">{{ stage.age }}</p>
          <h3 class="stage-name">{{ stage.name }}</h3>
        </div>
        <transition name="slide-up">
          <div v-if="currentStage === index" class="stage-detail">
            <p>{{ stage.detail }}</p>
          </div>
        </transition>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref } from 'vue'

const currentStage = ref(null)
const piagetStages = [
  {
    name: 'æ„ŸçŸ¥è¿åŠ¨é˜¶æ®µ',
    age: '0-2å²',
    height: '180px',
    detail: 'å©´å„¿é€šè¿‡çœ‹ã€æ‘¸ã€åƒã€æŠ“æ¥è®¤è¯†ä¸–ç•Œï¼Œå°±åƒ"ç”¨æ‰‹å’Œå˜´æ€è€ƒ"ã€‚è¿™ä¸ªé˜¶æ®µçš„å­©å­è¿"è—çŒ«çŒ«"éƒ½éš¾ä»¥ç†è§£ï¼Œæ›´æ— æ³•ç†è§£ç½‘ç»œçš„æ„ä¹‰ï¼Œä»–ä»¬çš„ä¸€åˆ‡è¡Œä¸ºä¾èµ–å³æ—¶ååº”ã€‚',
    image: new URL('@/assets/images/11.jpg', import.meta.url).href
  },
  {
    name: 'å‰è¿ç®—é˜¶æ®µ',
    age: '2-7å²',
    height: '250px',
    detail: 'å­©å­å¼€å§‹ç”¨è¯­è¨€å’Œç¬¦å·è¡¨è¾¾ï¼Œä½†æ€ç»´å……æ»¡å±€é™æ€§ï¼šè®¤ä¸ºæœˆäº®ä¼šè·Ÿç€è‡ªå·±èµ°ï¼Œæ— æ³•ç†è§£ä»–äººè§†è§’ã€‚è§‰å¾—ç©å…·æœ‰ç”Ÿå‘½ï¼Œä¼šå’Œå¨ƒå¨ƒèŠå¤©ã€‚å¦‚æœæœæ±ä»é«˜æ¯å€’è¿›çŸ®æ¯ï¼Œä»–ä»¬ä¼šåšæŒçŸ®æ¯"å˜å°‘äº†"ï¼Œæ— æ³•ç†è§£å®ˆæ’æ¦‚å¿µã€‚',
    image: new URL('@/assets/images/12.jpg', import.meta.url).href
  },
  {
    name: 'å…·ä½“è¿ç®—é˜¶æ®µ',
    age: '7-11å²',
    height: '320px',
    detail: 'å­©å­å¼€å§‹æœ‰é€»è¾‘ï¼Œä½†å¿…é¡»ä¾èµ–å…·ä½“ä¾‹å­ã€‚èƒ½ç†è§£"Aæ¯”Bé«˜ï¼ŒBæ¯”Cé«˜ï¼Œæ‰€ä»¥Aæ¯”Cé«˜"ï¼Œä½†æ— æ³•å›ç­”"å¦‚æœäººç±»ä¸ç”¨åƒé¥­ä¼šæ€æ ·"è¿™ç§æŠ½è±¡å‡è®¾ã€‚ä»–ä»¬ä¸¥æ ¼æŒ‰è§„åˆ™è¡Œäº‹ï¼Œè®¤ä¸º"è§„åˆ™ä¸èƒ½å˜"ã€‚',
    image: new URL('@/assets/images/13.jpg', import.meta.url).href
  },
  {
    name: 'å½¢å¼è¿ç®—é˜¶æ®µ',
    age: '11å²ä»¥å',
    height: '390px',
    detail: 'é’å°‘å¹´é€æ¸èƒ½è¿›è¡Œå‡è®¾æ¨ç†ï¼Œæ¯”å¦‚è®¨è®º"å¦‚æœåœ°çƒæ²¡æœ‰é‡åŠ›"ï¼Œä½†è¿™ç±»èƒ½åŠ›ä»éœ€æ•™è‚²å¼•å¯¼æ‰èƒ½æˆç†Ÿã€‚æ­¤å‰ï¼Œå„¿ç«¥å¯¹ç½‘ç»œé£é™©ã€é•¿æœŸåæœç¼ºä¹é¢„åˆ¤åŠ›ã€‚',
    image: new URL('@/assets/images/14.jpg', import.meta.url).href
  }
]
</script>

<style scoped>
.piaget-section {
  background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
}

.piaget-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 40px;
  align-items: end;
  max-width: 1200px;
  margin: 50px auto;
  padding: 40px 20px;
}

.piaget-stage {
  flex: 1;
  max-width: 360px;
  position: relative;
  cursor: pointer;
  transition: transform 0.3s;
}

.piaget-stage:hover {
  transform: translateY(-10px);
}

.stage-figure {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50% 50% 20px 20px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding-bottom: 20px;
  transition: all 0.5s;
  position: relative;
}

.piaget-stage:hover .stage-figure {
  box-shadow: 0 14px 40px rgba(102, 126, 234, 0.45);
  transform: translateZ(0) scale(1.03);
}

.stage-photo {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center bottom;
  border-radius: 50% 50% 20px 20px;
  opacity: .9;
  padding: 10px;
}

.figure-icon {
  font-size: 3rem;
  transition: font-size 0.5s;
}

.stage-info {
  background: white;
  padding: 20px;
  border-radius: 15px;
  margin-top: 20px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
  text-align: center;
}

.stage-age {
  font-size: 1.1rem;
  color: #667eea;
  font-weight: bold;
  margin-bottom: 8px;
}

.stage-name {
  font-size: 1.1rem;
  color: #2c3e50;
  margin: 0;
  font-weight: 600;
}

.stage-detail {
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(44, 62, 80, 0.95);
  color: white;
  padding: 20px;
  border-radius: 15px;
  width: 300px;
  margin-bottom: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  z-index: 10;
}

.stage-detail::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 10px solid transparent;
  border-top-color: rgba(44, 62, 80, 0.95);
}

.stage-detail p {
  font-size: 0.95rem;
  line-height: 1.6;
  margin: 0;
}

.slide-up-enter-active,
.slide-up-leave-active {
  transition: all 0.3s;
}

.slide-up-enter-from,
.slide-up-leave-to {
  opacity: 0;
  transform: translateX(-50%) translateY(20px);
}

@media (max-width: 768px) {
  .piaget-section {
    padding: 50px 20px;
  }

  .section-title {
    font-size: 1.6rem;
  }

  .section-intro {
    font-size: 1rem;
  }

  .piaget-container {
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }

  .stage-name {
    font-size: 1.1rem;
  }

  .stage-age {
    font-size: 0.9rem;
  }
}

@media (max-width: 480px) {
  .piaget-section {
    padding: 40px 12px;
  }

  .section-title {
    font-size: 1.4rem;
    padding: 0 5px;
  }

  .section-intro {
    font-size: 0.95rem;
    padding: 0 5px;
  }

  .piaget-container {
    grid-template-columns: 1fr;
    gap: 18px;
    padding: 0 5px;
  }

  .piaget-stage {
    padding: 15px;
  }

  .stage-figure {
    height: 140px !important;
  }

  .figure-icon {
    font-size: 2.5rem;
  }

  .stage-photo {
    width: 100%;
    max-height: 140px;
  }

  .stage-age {
    font-size: 0.85rem;
  }

  .stage-name {
    font-size: 1.05rem;
  }

  .stage-detail {
    padding: 12px;
    font-size: 0.85rem;
  }

  .stage-detail p {
    font-size: 0.85rem;
    line-height: 1.5;
  }
}
</style>